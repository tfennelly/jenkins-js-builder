exports.doImport = function (depBundleName, moduleName) {
    var entryModule = require('@jenkins-cd/js-modules').requireModule(depBundleName);
    if (!entryModule) {
        throw new Error('Unexpected bundle module loading error. Bundle ' + depBundleName + ' not preloaded.');
    }
    var doImportRes = entryModule;
    if (moduleName) {
        var internalRequireFunc = entryModule.{{internalRequireFuncName}};
        if (internalRequireFunc) {
            doImportRes = internalRequireFunc(moduleName);
            if (!doImportRes) {
                throw new Error('Unexpected bundle module loading error. Loaded bundle for '
                    + depBundleName + ' does not have an internal module named '
                    + moduleName + '.');
            }
        }
    }
    return doImportRes;
};